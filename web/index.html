<!DOCTYPE html>
<html lang="en">

<!--
    __  _______  __________  ____  ____
   /  |/  / __ \/ ____/ __ \/ __ \/  _/
  / /|_/ / / / / __/ / /_/ / / / // /  
 / /  / / /_/ / /___/ ____/ /_/ // /   
/_/  /_/\____/_____/_/    \____/___/   

-->

<head>
  <base href="$FLUTTER_BASE_HREF">

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6VR4XGL06S"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-6VR4XGL06S');
  </script>

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Moepoi's Personal Site">
  <meta name="keywords" content="Moepoi, Personal Page, Portfolio, Resume, Skills, Projects">

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@_moepoi" />
  <meta name="twitter:creator" content="@_moepoi" />
  <meta property="og:title" content="Moe Poi" />
  <meta property="og:description" content="Moepoi's Personal Site" />
  <meta property="og:url" content="https://moepoi.dev" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://moepoi.dev/banner.jpg" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1159" />
  <meta property="og:image:height" content="835" />

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="moepoi">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>Moe Poi</title>
  <link rel="manifest" href="manifest.json">

  <script>
    var serviceWorkerVersion = null;
  </script>
  <script src="flutter.js" defer></script>
</head>
<body>

  <div id="loading">
    <style>
      body {
        inset: 0; overflow: hidden;
        margin: 0; padding: 0;
        position: fixed;
      }
      @media only screen and (min-device-width: 144px) {
        .loading {
          width: 100%;
        }
      }
      @media only screen and (min-device-width: 1024px) {
        .loading {
          width: 40%;
        }
      }
      #loading {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: center;
        width: 100%;
      }
      #loading img {
        animation: 1s ease-in-out 0s infinite alternate breathe;
        opacity: .66;
        transition: opacity .4s;
      }
      #loading.main_done img {
        opacity: 1;
      }
      #loading.init_done img {
        animation: .33s ease-in-out 0s 1 forwards zooooom;
        opacity: .05;
      }
      @keyframes breathe { from { transform: scale(1) } to { transform: scale(0.95)}}
      @keyframes zooooom { from { transform: scale(1) } to { transform: scale(10)}}
      </style>
    <img class="loading" src="icons/loading.webp" alt="Loading..." />
  </div>

  <li style="display:none;">
    <a rel="me" href="https://moe.onl/@moepoi" target="_blank">Mastodon</a>
  </li>

  <script>
    window.addEventListener('load', function() {
      var loading = document.querySelector('#loading');
      _flutter.loader.loadEntrypoint({
        serviceWorker: {
          serviceWorkerVersion: serviceWorkerVersion,
        }
      }).then(function(engineInitializer) {
        loading.classList.add('main_done');
        return engineInitializer.initializeEngine();
      }).then(function(appRunner) {
        loading.classList.add('init_done');
        return appRunner.runApp();
      }).then(function(app) {
        window.setTimeout(function() {
          loading.remove();
        }, 200);
      });
    });
  </script>
</body>
</html>
